<%- include('../layouts/header') %>

    <div class="container-fluid">
        <div class="row">
            <%- include('../layouts/sidebar', { user: user }) %>
                <div class="col-md-9 offset-md-3 black-bg">
                    <!-- 聊天区域 -->
                    <!-- grok -->
                    <canvas class="chatCanvas" style="z-index: 0;"></canvas>
                    <div class="model-selector">
                        <div class="dropdown">
                            <button class="dropdown-btn">
                                选择模型 <span class="caret">▼</span>
                            </button>
                            <div class="dropdown-content">
                                <a href="#" data-model="gemini-2.0-flash-lite">Gemini</a>
                                <a href="#" data-model="glm-4.5-flash">智谱GLM</a>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <img src="/images/grok.svg" alt="LLM Model" class="img-fluid" style="min-width: 90px;">
                        <img src="/images/grok-text.svg" alt="LLM Model" class="img-fluid" style="min-width: 120px;">
                    </div>

                    <!-- input -->
                    <div class="chat-input-local mx-auto">
                        <textarea class="chat-textarea" placeholder="Ask anything..." rows="1"></textarea>
                        <button class="send-btn" type="button">
                            <i class="fas fa-arrow-up"></i>
                        </button>
                    </div>
                </div>
        </div>
    </div>

    <script>
        // Add grok-page class to body for theme transition
        document.addEventListener('DOMContentLoaded', function () {
            document.body.classList.add('grok-page');
        });

        // Remove grok-page class when leaving the page
        window.addEventListener('beforeunload', function () {
            document.body.classList.remove('grok-page');
        });
    </script>

    <%- include('../layouts/footer') %>